<html>
<body>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.4/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha384-Tc5IQib027qvyjSMfHjOMaLkfuWVxZxUPnCJA7l2mCWNIpG9mGCD8wGNIcPD7Txa" crossorigin="anonymous"></script>

<script src="versions.js"></script>

<script>

function addSeparator() {
  $('#versionsList').append(
    $('<li>')
      .attr('role', 'separator')
      .attr('class', 'divider')
  )
}

function addVersion(version, versionName) {
  versionName = versionName || version

  $('#versionsList').append(
    $('<li>').append(
      $('<a>')
        .attr('href', version + '/apidocs/index.html')
        .attr('target', 'javadocs')
        .text(versionName)
    )
  );
}

$(function() {

for (version of window.apiVersions.versions) {
  let versionName = version;
  if ( window.apiVersions.current === version) {
    versionName = versionName + " [Current]";
  }  
  addVersion(version, versionName);
}

addSeparator();
addVersion('development', 'Development');
addSeparator();

for (version of window.apiVersions.legacy) {
  addVersion(version, version + ' [Legacy]');
}

$('#currentSelection').html(window.apiVersions.current + ' [Current] <span class="caret"></span>');

$('#versionsList').append()
window.apiVersions.current

  $(".dropdown .dropdown-menu li a").click(function(){  
    $(this).parents(".dropdown").find('.dropdown-toggle').html($(this).text() + ' <span class="caret"></span>');
    $(this).parents(".dropdown").find('.dropdown-toggle').val($(this).data('value'));
  });
});
</script>

<div class="fill">
    <ol class="breadcrumb" style="margin-bottom: 0px;">
        <li><a href="/"><img src="images/okta-dev-logo-48.png" style="height:1.7em"></a>
            Okta Java SDK
        </li>
        <li class="dropdown">
            <a id="currentSelection" href="#" class="dropdown-toggle" data-toggle="dropdown" data-toggle="dropdown" aria-haspopup="true" aria-expanded="true">
            	[Current] <span class="caret"></span>
            </i></a>
            <ul id="versionsList" class="dropdown-menu">
            </ul>
        </li>
    </ol>
    <iframe style="width: 100%; height: 100vh" src="apidocs/index.html" name="javadocs"></iframe>
</div>
</body>
</html>